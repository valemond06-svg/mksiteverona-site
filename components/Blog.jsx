'use client';

import { useState } from 'react';
import ReactMarkdown from 'react-markdown';
import remarkGfm from 'remark-gfm';

const BLOG_POSTS = [
  {
    id: 'sito-web-che-vende',
    title: 'Come Creare un Sito Web che Vende (Non Solo Bello)',
    excerpt: 'La maggior parte dei siti web non genera clienti. Ecco perch√© e come cambiarlo.',
    category: 'Web Design',
    readTime: '8 min',
    date: '15 Dic 2024',
    image: 'üé®',
    slug: 'sito-web-che-vende',
    content: `# Come Creare un Sito Web che Vende (Non Solo Bello)

La maggior parte dei siti web non genera clienti. Sai perch√©?

Perch√© sono costruiti per essere **belli**, non per **convertire**.

## Il Problema dei Siti "Belli"

Un sito bello √® come una vetrina ben decorata che nessuno vede. Se il tuo sito:

- üì± √à lento (carica in >3 secondi)
- üîç Non √® primo su Google
- üì± Non si vede bene da mobile
- üí¨ Non ha un call-to-action chiaro
- üìä Non hai idea di chi lo visita

...allora stai perdendo clienti ogni giorno.

## I 5 Elementi che Fanno Vendere

### 1. **Velocit√†**: Carica in <2 secondi
Un sito lento perde il 50% dei visitatori dopo 3 secondi. Punto.

**Soluzione**: Code splitting, ottimizzazione immagini, CDN globale.

### 2. **Mobile First**: 70% arriva da telefono
Se il tuo sito su mobile non funziona bene, perdi il 70% dei clienti.

**Soluzione**: Design responsive dai pixel, testato su 20+ dispositivi.

### 3. **SEO Integrato**: Primo su Google nella tua zona
Un sito bello che nessuno trova √® inutile.

**Soluzione**: Ricerca keyword locale, ottimizzazione on-page, link building qualitativo.

### 4. **Messaggio Cristallino**: Una sola promessa
Confusione = Abbandono. I visitatori devono capire IN 3 SECONDI cosa fai e perch√© dovrebbero contattarti.

**Soluzione**: Hero section convincente + CTA primo fold.

### 5. **Analytics Integrato**: Misura tutto
Se non puoi misurarlo, non puoi migliorarlo.

**Soluzione**: Google Analytics 4 + heatmap + conversion tracking.

## Il Caso Studio: Come Abbiamo Raddoppiato i Clienti

Un parrucchiere di Verona aveva un sito bellissimo... che non generava prenotazioni.

**Prima**: 2-3 prenotazioni online a settimana  
**Dopo 30 giorni**: 8-10 prenotazioni online a settimana  
**ROI**: +300% in 90 giorni

Cosa abbiamo fatto diverso?

1. Velocit√† ridotta da 5.2s a 1.4s
2. Aggiunto CTA "Prenota Ora" visibile sempre
3. SEO locale targettizzato (Parrucchiere Verona, Taglio capelli centro Verona, ecc.)
4. Recensioni integrate e visibili

## La Realt√† del Mercato

**70% degli imprenditori** non sa che il loro sito non converte. Pensano che avere un sito sia sufficiente.

Non √® vero.

Un sito **non** √® solo una vetrina online. √à una **macchina di vendita 24/7**.

## Come Iniziare Subito

Non serve aspettare. Oggi puoi:

1. **Analizzare** il tuo sito attuale (velocit√†, mobile, SEO)
2. **Identificare** i freni di conversione
3. **Implementare** i cambiamenti che contano

Noi lo facciamo in **30 giorni garantiti**. Se non vedi risultati, restituiamo il 50%.

---

**Prossimo step?** [Prenota una consulenza strategica gratuita ‚Üí](#contatti)
`,
  },
  {
    id: 'seo-locale-verona',
    title: 'SEO Locale: Come Dominare Google nella Tua Citt√†',
    excerpt: 'Vuoi essere primo su Google a Verona? Ecco la strategia che funziona nel 2024.',
    category: 'SEO',
    readTime: '10 min',
    date: '12 Dic 2024',
    image: 'üìç',
    slug: 'seo-locale-verona',
    content: `# SEO Locale: Come Dominare Google nella Tua Citt√†

Se hai un'azienda locale (negozio, ristorante, servizi), Google Maps e la ricerca locale sono il tuo oro.

Ma la maggior parte non sa come sfruttarli.

## Il Dato Che Ti Farebbe Impazzire

**76% delle persone** che cerca "idraulico Verona" dal telefono **entra nel negozio lo stesso giorno**.

Se non sei primo su Google Maps... perdi questa vendita.

## Come Funziona la SEO Locale

Google Maps mostra solo i PRIMI 3 risultati. Il resto? Non li vede nessuno.

**Quindi l'obiettivo √® UNO: essere nei Top 3.**

## I 3 Pilastri della SEO Locale

### 1. **Google My Business Ottimizzato**
Il 60% delle aziende ha Google My Business... ma configurato male.

**Cosa fare**:
- Foto professionali di negozio/team
- Descrizione con keyword locale
- Aggiornamenti costanti (post settimanale)
- Gestione recensioni (rispondi SEMPRE)

### 2. **Ricerca Keyword Locale**
Non puoi ottimizzare per keyword che nessuno cerca.

**Ricerche che funzionano**:
- "Idraulico urgente Verona"
- "Parrucchiere donna centro Verona"
- "Ristorante giapponese Verona centro"

**Non funzionano**:
- "Idraulico" (troppo generico)
- "Parrucchiere" (senza zona)

### 3. **Link Building Locale**
Backlink da siti locali autorevoli = credibilit√† su Google.

**Strategie**:
- Partnerships con altre aziende locali
- Sponsorizzazione eventi (con link reciproci)
- Guest posting su blog locali
- Citazioni su directory locali

## Il Caso Studio: Ristorante a Verona

**Situazione iniziale**:
- Visibile a pagina 3 per "Ristorante Verona"
- 2-3 prenotazioni a settimana da Google

**Dopo 60 giorni di SEO locale**:
- Primo su Google Maps
- Primo su ricerca organica per "Ristorante italiano Verona"
- 15-20 prenotazioni a settimana

**Incremento**: +400% in 2 mesi

## 5 Azioni Immediate (Oggi)

1. **Crea/Aggiorna Google My Business** con foto professionali
2. **Richiedi 20 recensioni** ai tuoi clienti migliori
3. **Rispondi a TUTTE le recensioni** (anche negative)
4. **Aggiungi parole chiave locali** nel tuo sito
5. **Crea 5 post su Google My Business** questo mese

## La Realt√† Brutale

Se non sei nei Top 3 di Google Maps della tua zona... il tuo concorrente sta rubando i tuoi clienti.

---

**Vuoi essere primo su Google Maps nella tua zona?** [Scopri come ‚Üí](#contatti)
`,
  },
  {
    id: 'ecommerce-strategie',
    title: 'Strategie E-commerce: Come Vendere 3x Di Pi√π Online',
    excerpt: 'Non basta avere un negozio online. Devi farlo convertire. Ecco come.',
    category: 'E-commerce',
    readTime: '9 min',
    date: '8 Dic 2024',
    image: 'üõí',
    slug: 'ecommerce-strategie',
    content: `# Strategie E-commerce: Come Vendere 3x Di Pi√π Online

La maggior parte degli e-commerce perde il 95% dei visitatori senza che comprino.

Non √® colpa tua. √à colpa di una strategia sbagliata.

## Il Bottleneck Che Nessuno Racconta

Se hai un e-commerce, il tuo flusso √® questo:

**Traffic ‚Üí Carrello ‚Üí Pagamento ‚Üí Ordine**

Ma dove si perde la gente?

- 40% se ne va prima di aggiungere al carrello
- 30% aggiunge al carrello ma non paga
- 20% inizia il pagamento ma abbandona

**Risultato**: 90% di conversione persa.

## Le 5 Leve di Conversione

### 1. **Foto Prodotto Professionale**
Una foto mediocre = -50% di conversioni.

Le foto devono:
- Mostrare il prodotto da 5+ angoli
- Avere zoom 2x
- Mostrare il prodotto "in uso"
- Avere dimensioni >3000px

### 2. **Descrizione che Vende**
Non scrivere "T-shirt blu". Scrivi una descrizione orientata ai benefici, sensazioni e prova sociale.

### 3. **Prezzo Trasparente + Trust**
Se il visitatore non sa quanto costa... se ne va.

- Mostra il prezzo PRIMA di cliccare
- Mostra i costi di spedizione
- Mostra chi pu√≤ ritirare il reso

### 4. **Pagamento Semplice**
Pi√π step di pagamento = meno ordini.

**Ottimale**: 1 schermata, max 5 campi.

### 5. **Follow-up Post-Acquisto**
Chi compra una volta... potrebbe comprare di nuovo.

- Email di ringraziamento 1h dopo
- Email upsell 48h dopo
- Email di feedback 1 settimana dopo

## Il Caso Studio: Negozio di Abbigliamento

**Prima**:
- 1000 visitatori/settimana
- 10 ordini/settimana
- Conversion rate: 1%

**Dopo 30 giorni**:
- 1200 visitatori/settimana
- 36 ordini/settimana
- Conversion rate: 3%

**Cosa abbiamo cambiato**:
- Foto professionali per tutti i prodotti
- Descrizioni persuasive
- 1-click checkout
- Autoresponder di upsell

---

**Vuoi triplicare le tue vendite online?** [Scopri il piano E-commerce ‚Üí](#contatti)
`,
  },
  {
    id: 'personal-branding',
    title: 'Personal Branding per Imprenditori: Il Tuo Superpower',
    excerpt: 'Non √® vanit√†. √à strategia. Ecco come il personal branding genera clienti.',
    category: 'Branding',
    readTime: '7 min',
    date: '5 Dic 2024',
    image: 'üë§',
    slug: 'personal-branding',
    content: `# Personal Branding per Imprenditori: Il Tuo Superpower

Le persone non comprano prodotti.

Comprano persone.

Se non hai un personal brand forte, stai lasciando soldi sul tavolo.

## Perch√© Il Personal Branding Funziona

Un imprenditore con personal branding forte vende molto di pi√π rispetto a uno senza.

Perch√©? Perch√© la gente compra da chi CONOSCE e di cui si FIDA.

## I 3 Pilastri del Personal Branding

### 1. **Visibilit√†**
Devi essere visibile dove sono i tuoi clienti ideali.

### 2. **Valore**
Non basta essere visibile. Devi offrire valore reale.

### 3. **Coerenza**
Un post al mese non funziona. Servono contenuti costanti.

## Il Playbook: Come Iniziare

1. Definisci il tuo posizionamento in una frase
2. Scegli un canale principale (LinkedIn, TikTok, ecc.)
3. Crea contenuti educational, social proof e personali

---

**Pronto a costruire un personal brand che vende?** [Parliamone ‚Üí](#contatti)
`,
  },
];

export default function Blog() {
  const [selectedPost, setSelectedPost] = useState(null);

  const openPost = (post) => setSelectedPost(post);
  const closePost = () => setSelectedPost(null);

  return (
    <section id="blog" className="relative py-20 px-6 bg-slate-800">
      <div className="max-w-6xl mx-auto">
        {/* Header */}
        <div className="text-center mb-16 space-y-4">
          <p className="text-cyan-400 font-bold text-sm uppercase tracking-widest">
            üìö Blog & Risorse
          </p>
          <h2 className="text-4xl md:text-5xl font-bold text-white">
            Strategie Che Funzionano Davvero
          </h2>
          <p className="text-xl text-gray-300 max-w-2xl mx-auto">
            Articoli in-depth basati su case study reali per far crescere il tuo business online.
          </p>
        </div>

        {/* Blog Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
          {BLOG_POSTS.map((post) => (
            <article
              key={post.id}
              className="group rounded-2xl border border-cyan-400/20 bg-gradient-to-br from-slate-700/50 to-slate-700/30 overflow-hidden hover:border-cyan-400/50 transition-all duration-300 cursor-pointer flex flex-col"
              onClick={() => openPost(post)}
            >
              <div className="w-full h-48 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 flex items-center justify-center text-6xl group-hover:scale-110 transition-transform duration-300">
                {post.image}
              </div>

              <div className="p-6 flex-1 flex flex-col">
                <div className="flex items-center gap-3 mb-3">
                  <span className="inline-block px-3 py-1 bg-cyan-500/20 text-cyan-400 text-xs font-bold rounded-full">
                    {post.category}
                  </span>
                  <span className="text-xs text-gray-400">{post.readTime}</span>
                </div>

                <h3 className="text-xl font-bold text-white mb-3 group-hover:text-cyan-400 transition-colors line-clamp-2">
                  {post.title}
                </h3>

                <p className="text-gray-300 text-sm mb-4 line-clamp-2 flex-1">
                  {post.excerpt}
                </p>

                <div className="flex items-center justify-between pt-4 border-t border-cyan-400/10">
                  <span className="text-xs text-gray-400">{post.date}</span>
                  <span className="text-cyan-400 group-hover:translate-x-2 transition-transform">
                    Leggi ‚Üí
                  </span>
                </div>
              </div>
            </article>
          ))}
        </div>

        {/* Newsletter CTA */}
        <div className="bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-3xl border border-cyan-400/20 p-12 text-center">
          <h3 className="text-2xl md:text-3xl font-bold text-white mb-4">
            Vuoi Strategie Esclusive Ogni Settimana?
          </h3>
          <p className="text-gray-300 mb-6 max-w-2xl mx-auto">
            Iscriviti alla newsletter per ricevere tips, case study e strategie direttamente nella tua email.
          </p>

          <form className="max-w-md mx-auto flex gap-3">
            <input
              type="email"
              placeholder="La tua email..."
              className="flex-1 px-4 py-3 bg-slate-700/50 border border-cyan-400/20 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-400"
              required
            />
            <button
              type="submit"
              className="px-6 py-3 bg-gradient-to-r from-cyan-400 to-blue-400 text-slate-900 font-bold rounded-lg hover:shadow-lg hover:shadow-cyan-500/50 transition-all"
            >
              Iscriviti
            </button>
          </form>
        </div>
      </div>

      {selectedPost && <ArticleModal post={selectedPost} onClose={closePost} />}
    </section>
  );
}

function ArticleModal({ post, onClose }) {
  return (
    <div
      className="fixed inset-0 bg-black/80 flex items-center justify-center p-6 z-50"
      onClick={onClose}
    >
      <div
        className="bg-slate-800 rounded-2xl border border-cyan-400/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto"
        onClick={(e) => e.stopPropagation()}
      >
        <div className="sticky top-0 bg-slate-800 border-b border-cyan-400/20 p-6 flex items-center justify-between">
          <div>
            <span className="inline-block px-3 py-1 bg-cyan-500/20 text-cyan-400 text-xs font-bold rounded-full mb-3">
              {post.category}
            </span>
            <h2 className="text-2xl font-bold text-white">{post.title}</h2>
          </div>
          <button
            onClick={onClose}
            className="text-gray-400 hover:text-white transition-colors"
          >
            ‚úï
          </button>
        </div>

        <div className="p-6 prose prose-invert max-w-none">
          <ReactMarkdown remarkPlugins={[remarkGfm]}>
            {post.content}
          </ReactMarkdown>
        </div>

        <div className="border-t border-cyan-400/20 p-6 bg-slate-700/30">
          <p className="text-gray-300 mb-4">
            Ti √® piaciuto questo articolo? Scopri come possiamo aiutare il tuo business.
          </p>
          <a
            href="/#contatti"
            onClick={onClose}
            className="inline-block px-6 py-3 bg-gradient-to-r from-cyan-400 to-blue-400 text-slate-900 font-bold rounded-lg hover:shadow-lg hover:shadow-cyan-500/50 transition-all"
          >
            üí¨ Contattaci Oggi
          </a>
        </div>
      </div>
    </div>
  );
}
